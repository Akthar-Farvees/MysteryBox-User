"use strict";
// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
// SPDX-License-Identifier: Apache-2.0
Object.defineProperty(exports, "__esModule", { value: true });
var getCanonicalHeaders_1 = require("./getCanonicalHeaders");
var getCanonicalQueryString_1 = require("./getCanonicalQueryString");
var getCanonicalUri_1 = require("./getCanonicalUri");
var getHashedPayload_1 = require("./getHashedPayload");
var getSignedHeaders_1 = require("./getSignedHeaders");
/**
 * Returns a canonical request.
 *
 * @param request `HttpRequest` from which to create the canonical request from.
 * @returns String created by by concatenating the following strings, separated by newline characters:
 * - HTTPMethod
 * - CanonicalUri
 * - CanonicalQueryString
 * - CanonicalHeaders
 * - SignedHeaders
 * - HashedPayload
 *
 * @internal
 */
exports.getCanonicalRequest = function (_a) {
    var body = _a.body, headers = _a.headers, method = _a.method, url = _a.url;
    return [
        method,
        getCanonicalUri_1.getCanonicalUri(url.pathname),
        getCanonicalQueryString_1.getCanonicalQueryString(url.searchParams),
        getCanonicalHeaders_1.getCanonicalHeaders(headers),
        getSignedHeaders_1.getSignedHeaders(headers),
        getHashedPayload_1.getHashedPayload(body),
    ].join('\n');
};
//# sourceMappingURL=getCanonicalRequest.js.map